- **–í–µ—Ä—à–∏–Ω—ã –≥—Ä–∞—Ñ–∞** ‚Äî —ç—Ç–æ –≤–µ—Ä—à–∏–Ω—ã —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–æ–≤.
- **–†—ë–±—Ä–∞ –≥—Ä–∞—Ñ–∞** ‚Äî —ç—Ç–æ —Å—Ç–æ—Ä–æ–Ω—ã —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –ø–µ—Ä–µ—Å–µ–∫–∞—é—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –ø–æ–ª–∏–≥–æ–Ω—ã.

---

### –®–∞–≥–∏ –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–æ–≤ –≤ –≥—Ä–∞—Ñ

1. **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –≤–µ—Ä—à–∏–Ω –∏ —Ä—ë–±–µ—Ä –∏–∑ —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–æ–≤**:
   - –ö–∞–∂–¥—ã–π —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Ç—Ä—ë—Ö –≤–µ—Ä—à–∏–Ω –∏ —Ç—Ä—ë—Ö —Ä—ë–±–µ—Ä.
   - –ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤—Å–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –≤–µ—Ä—à–∏–Ω—ã –∏ —Ä—ë–±—Ä–∞.

2. **–ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∞**:
   - –î–ª—è –∫–∞–∂–¥–æ–π –≤–µ—Ä—à–∏–Ω—ã —Å–æ–∑–¥–∞–π—Ç–µ —Å–ø–∏—Å–æ–∫ —Å–º–µ–∂–Ω—ã—Ö –≤–µ—Ä—à–∏–Ω (—Å–æ—Å–µ–¥–µ–π).
   - –í–µ—Å —Ä–µ–±—Ä–∞ ‚Äî —ç—Ç–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É –≤–µ—Ä—à–∏–Ω–∞–º–∏.

3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ —Å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º–∏ –ø–æ–ª–∏–≥–æ–Ω–∞–º–∏**:
   - –ï—Å–ª–∏ —Ä–µ–±—Ä–æ –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –ø–æ–ª–∏–≥–æ–Ω, –æ–Ω–æ –Ω–µ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –≥—Ä–∞—Ñ.

---

### –ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞ –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–æ–≤ –≤ –≥—Ä–∞—Ñ

#### 1. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –≥—Ä–∞—Ñ–∞**

```cpp
struct Edge {
    int target; // –ò–Ω–¥–µ–∫—Å —Ü–µ–ª–µ–≤–æ–π –≤–µ—Ä—à–∏–Ω—ã
    double weight; // –í–µ—Å —Ä–µ–±—Ä–∞ (—Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É –≤–µ—Ä—à–∏–Ω–∞–º–∏)
};

using Graph = std::vector<std::vector<Edge>>;
```

#### 2. **–§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–æ–≤ –≤ –≥—Ä–∞—Ñ**

```cpp
#include <geos/geom/Geometry.h>
#include <geos/geom/Polygon.h>
#include <geos/geom/LineString.h>
#include <geos/geom/CoordinateSequence.h>
#include <geos/geom/GeometryFactory.h>
#include <geos/triangulate/DelaunayTriangulationBuilder.h>
#include <iostream>
#include <vector>
#include <map>
#include <cmath>

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –º–µ–∂–¥—É –¥–≤—É–º—è —Ç–æ—á–∫–∞–º–∏
double distance(const Coordinate& p1, const Coordinate& p2) {
    double dx = p1.x - p2.x;
    double dy = p1.y - p2.y;
    return std::sqrt(dx * dx + dy * dy);
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–æ–≤ –≤ –≥—Ä–∞—Ñ
Graph trianglesToGraph(const Geometry* triangles, const std::vector<const Geometry*>& holes) {
    Graph graph;
    std::map<Coordinate, int> vertexToIndex; // –•—ç—à-—Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–Ω–¥–µ–∫—Å–æ–≤ –≤–µ—Ä—à–∏–Ω
    int index = 0;

    // –ò–∑–≤–ª–µ–∫–∞–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–æ–≤
    const CoordinateSequence* coords = triangles->getCoordinates();

    // –ü—Ä–æ—Ö–æ–¥–∏–º –ø–æ –≤—Å–µ–º —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–∞–º
    for (size_t i = 0; i < coords->size(); i += 3) {
        Coordinate p1 = coords->getAt(i);
        Coordinate p2 = coords->getAt(i + 1);
        Coordinate p3 = coords->getAt(i + 2);

        // –î–æ–±–∞–≤–ª—è–µ–º –≤–µ—Ä—à–∏–Ω—ã –≤ –≥—Ä–∞—Ñ, –µ—Å–ª–∏ –æ–Ω–∏ –µ—â—ë –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã
        if (vertexToIndex.find(p1) == vertexToIndex.end()) {
            vertexToIndex[p1] = index++;
            graph.push_back({});
        }
        if (vertexToIndex.find(p2) == vertexToIndex.end()) {
            vertexToIndex[p2] = index++;
            graph.push_back({});
        }
        if (vertexToIndex.find(p3) == vertexToIndex.end()) {
            vertexToIndex[p3] = index++;
            graph.push_back({});
        }

        // –ü–æ–ª—É—á–∞–µ–º –∏–Ω–¥–µ–∫—Å—ã –≤–µ—Ä—à–∏–Ω
        int idx1 = vertexToIndex[p1];
        int idx2 = vertexToIndex[p2];
        int idx3 = vertexToIndex[p3];

        // –î–æ–±–∞–≤–ª—è–µ–º —Ä—ë–±—Ä–∞ –≤ –≥—Ä–∞—Ñ (–µ—Å–ª–∏ –æ–Ω–∏ –Ω–µ –ø–µ—Ä–µ—Å–µ–∫–∞—é—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –ø–æ–ª–∏–≥–æ–Ω—ã)
        bool edge12Valid = true;
        bool edge23Valid = true;
        bool edge31Valid = true;

        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç –ª–∏ —Ä–µ–±—Ä–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –ø–æ–ª–∏–≥–æ–Ω—ã
        for (const Geometry* hole : holes) {
            LineString* edge12 = factory->createLineString({p1, p2});
            LineString* edge23 = factory->createLineString({p2, p3});
            LineString* edge31 = factory->createLineString({p3, p1});

            if (edge12->intersects(hole)) edge12Valid = false;
            if (edge23->intersects(hole)) edge23Valid = false;
            if (edge31->intersects(hole)) edge31Valid = false;

            delete edge12;
            delete edge23;
            delete edge31;
        }

        // –î–æ–±–∞–≤–ª—è–µ–º —Ä—ë–±—Ä–∞ –≤ –≥—Ä–∞—Ñ
        if (edge12Valid) {
            graph[idx1].push_back({idx2, distance(p1, p2)});
            graph[idx2].push_back({idx1, distance(p1, p2)});
        }
        if (edge23Valid) {
            graph[idx2].push_back({idx3, distance(p2, p3)});
            graph[idx3].push_back({idx2, distance(p2, p3)});
        }
        if (edge31Valid) {
            graph[idx3].push_back({idx1, distance(p3, p1)});
            graph[idx1].push_back({idx3, distance(p3, p1)});
        }
    }

    return graph;
}
```

---

### 3. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –ø—Ä–æ–≥—Ä–∞–º–º–µ**

```cpp
int main() {
    // –°–æ–∑–¥–∞–µ–º —Ñ–∞–±—Ä–∏–∫—É –≥–µ–æ–º–µ—Ç—Ä–∏–∏
    GeometryFactory::Ptr factory = GeometryFactory::create();

    // –°–æ–∑–¥–∞–µ–º –≤–Ω–µ—à–Ω–∏–π –ø–æ–ª–∏–≥–æ–Ω
    CoordinateArraySequence outerCoords;
    outerCoords.add(Coordinate(0, 0));
    outerCoords.add(Coordinate(10, 0));
    outerCoords.add(Coordinate(10, 10));
    outerCoords.add(Coordinate(0, 10));
    outerCoords.add(Coordinate(0, 0)); // –ó–∞–º—ã–∫–∞–µ–º –ø–æ–ª–∏–≥–æ–Ω
    LinearRing* outerRing = factory->createLinearRing(outerCoords.clone());
    Polygon* outerPolygon = factory->createPolygon(outerRing, nullptr);

    // –°–æ–∑–¥–∞–µ–º –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –ø–æ–ª–∏–≥–æ–Ω
    CoordinateArraySequence innerCoords;
    innerCoords.add(Coordinate(2, 2));
    innerCoords.add(Coordinate(4, 2));
    innerCoords.add(Coordinate(4, 4));
    innerCoords.add(Coordinate(2, 4));
    innerCoords.add(Coordinate(2, 2)); // –ó–∞–º—ã–∫–∞–µ–º –ø–æ–ª–∏–≥–æ–Ω
    LinearRing* innerRing = factory->createLinearRing(innerCoords.clone());
    Polygon* innerPolygon = factory->createPolygon(innerRing, nullptr);

    // –°–æ–∑–¥–∞–µ–º –∫–æ–ª–ª–µ–∫—Ü–∏—é –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –ø–æ–ª–∏–≥–æ–Ω–æ–≤
    std::vector<const Geometry*> holes;
    holes.push_back(innerPolygon);

    // –°–æ–∑–¥–∞–µ–º –ø–æ–ª–∏–≥–æ–Ω —Å –æ—Ç–≤–µ—Ä—Å—Ç–∏—è–º–∏
    Polygon* polygonWithHoles = factory->createPolygon(outerRing, holes);

    // –¢—Ä–∏–∞–Ω–≥—É–ª—è—Ü–∏—è
    DelaunayTriangulationBuilder builder;
    builder.setSites(*polygonWithHoles);
    std::unique_ptr<Geometry> triangles = builder.getTriangles(*factory);

    // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–∏ –≤ –≥—Ä–∞—Ñ
    Graph graph = trianglesToGraph(triangles.get(), holes);

    // –í—ã–≤–æ–¥–∏–º –≥—Ä–∞—Ñ
    for (size_t i = 0; i < graph.size(); ++i) {
        std::cout << "–í–µ—Ä—à–∏–Ω–∞ " << i << " —Å–æ–µ–¥–∏–Ω–µ–Ω–∞ —Å: ";
        for (const Edge& edge : graph[i]) {
            std::cout << edge.target << " (–≤–µ—Å " << edge.weight << "), ";
        }
        std::cout << std::endl;
    }

    return 0;
}
```

---

### –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –∫–æ–¥–∞

1. **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –≤–µ—Ä—à–∏–Ω**:
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ö—ç—à-—Ç–∞–±–ª–∏—Ü–∞ `vertexToIndex` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–Ω–¥–µ–∫—Å–æ–≤ –≤–µ—Ä—à–∏–Ω.

2. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä—ë–±–µ—Ä**:
   - –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–∞ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è —Ä—ë–±—Ä–∞ –º–µ–∂–¥—É –µ–≥–æ –≤–µ—Ä—à–∏–Ω–∞–º–∏.
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è, –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç –ª–∏ —Ä–µ–±—Ä–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –ø–æ–ª–∏–≥–æ–Ω—ã.

3. **–ì—Ä–∞—Ñ**:
   - –ì—Ä–∞—Ñ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –∫–∞–∫ —Å–ø–∏—Å–æ–∫ —Å–º–µ–∂–Ω–æ—Å—Ç–∏ (`std::vector<std::vector<Edge>>`).

---

### –†–µ–∑—É–ª—å—Ç–∞—Ç

- –ü—Ä–æ–≥—Ä–∞–º–º–∞ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–∏ –≤ –≥—Ä–∞—Ñ, –≥–¥–µ –≤–µ—Ä—à–∏–Ω—ã ‚Äî —ç—Ç–æ —Ç–æ—á–∫–∏ —Ç—Ä–∏–∞–Ω–≥—É–ª—è—Ü–∏–∏, –∞ —Ä—ë–±—Ä–∞ ‚Äî —Å—Ç–æ—Ä–æ–Ω—ã —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–æ–≤, –Ω–µ –ø–µ—Ä–µ—Å–µ–∫–∞—é—â–∏–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –ø–æ–ª–∏–≥–æ–Ω—ã.
- –ì—Ä–∞—Ñ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –ø–æ–∏—Å–∫–∞ –∫—Ä–∞—Ç—á–∞–π—à–µ–≥–æ –ø—É—Ç–∏ —Å –ø–æ–º–æ—â—å—é –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –î–µ–π–∫—Å—Ç—Ä—ã.

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –Ω—É–∂–Ω–æ –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É, –¥–∞–π—Ç–µ –∑–Ω–∞—Ç—å! üòä