Фикстуры тестов в GoogleTest представляют собой классы, которые создают общие настройки и очистку для нескольких тестов. Фикстуры позволяют избежать дублирования кода при подготовке условий тестирования и упрощают управление общими ресурсами, которые используются несколькими тестами.

### Основные элементы фикстуры тестов

1. **Класс фикстуры**: Класс, который наследуется от `::testing::Test`.
2. **Методы SetUp и TearDown**: Методы для настройки (инициализации) и очистки (освобождения ресурсов) перед каждым тестом.
3. **Переменные и методы фикстуры**: Общие переменные и методы, которые могут быть использованы в тестах.

### Пример фикстуры тестов

Рассмотрим пример, в котором создается фикстура тестов для проверки класса `MyClass`.

#### 1. Класс, который будем тестировать

```cpp
// my_class.h
#ifndef MY_CLASS_H
#define MY_CLASS_H

class MyClass {
public:
    MyClass() : value(0) {}
    
    void SetValue(int val) { value = val; }
    int GetValue() const { return value; }
    
private:
    int value;
};

#endif // MY_CLASS_H
```

#### 2. Фикстура тестов

```cpp
// my_test_fixture.h
#ifndef MY_TEST_FIXTURE_H
#define MY_TEST_FIXTURE_H

#include <gtest/gtest.h>
#include "my_class.h"

class MyTestFixture : public ::testing::Test {
protected:
    void SetUp() override {
        // Инициализация перед каждым тестом
        my_class.SetValue(42);
    }

    void TearDown() override {
        // Очистка после каждого теста
    }

    // Объект, который будет использоваться в тестах
    MyClass my_class;
};

#endif // MY_TEST_FIXTURE_H
```

#### 3. Тесты с использованием фикстуры

```cpp
// my_tests.cpp
#include "my_test_fixture.h"

TEST_F(MyTestFixture, TestGetValue) {
    // Тестирование метода GetValue
    EXPECT_EQ(my_class.GetValue(), 42);
}

TEST_F(MyTestFixture, TestSetValue) {
    // Тестирование метода SetValue
    my_class.SetValue(100);
    EXPECT_EQ(my_class.GetValue(), 100);
}

int main(int argc, char** argv) {
    ::testing::InitGoogleTest(&argc, argv);
    return RUN_ALL_TESTS();
}
```

### Объяснение

1. **Класс фикстуры**: `MyTestFixture` наследуется от `::testing::Test`. Этот класс содержит объект `MyClass` и методы `SetUp` и `TearDown`.
2. **Метод SetUp**: Метод вызывается перед каждым тестом. В этом примере он инициализирует значение объекта `my_class`.
3. **Метод TearDown**: Метод вызывается после каждого теста. В данном случае он пуст, но может использоваться для освобождения ресурсов.
4. **Тесты**: Тесты используют фикстуру с помощью макроса `TEST_F`, который принимает имя фикстуры и имя теста. Эти тесты могут обращаться к общим переменным и методам фикстуры.

### Преимущества фикстур тестов

- **Избежание дублирования кода**: Фикстуры позволяют создавать общий код для настройки и очистки, который используется в нескольких тестах.
- **Удобство**: Легко изменять настройки для всех тестов, изменяя только код в фикстуре.
- **Организация кода**: Фикстуры помогают организовать тесты, группируя их по общим настройкам.